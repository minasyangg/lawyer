# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –∫ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

1. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∞ Prisma —Å—Ö–µ–º–∞** —Å –Ω–æ–≤—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
2. ‚úÖ **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** –¥–ª—è 2FA –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏  
3. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –≤ .env.local
4. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω seed —Ñ–∞–π–ª** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∞

## üîÑ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ü–ö

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î (Docker PostgreSQL)

### 2. –°–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –µ—ë:
```bash
# –°–æ–∑–¥–∞—Ç—å –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
npm run db:migrate

# –ö–æ–≥–¥–∞ –ø–æ—è–≤–∏—Ç—Å—è –∑–∞–ø—Ä–æ—Å –Ω–∞ –∏–º—è –º–∏–≥—Ä–∞—Ü–∏–∏, –≤–≤–µ–¥–∏—Ç–µ:
# enhanced_auth_system
```

### 3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ë–î –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –ë–î –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npm run db:fresh
```

## üîê –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

**–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:**
- Email: `admin@lawyer-site.com`
- –ü–∞—Ä–æ–ª—å: `AdminPass123!`
- ‚ö†Ô∏è **–í–ê–ñ–ù–û**: –°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞!
- üì± **2FA**: –ë—É–¥–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –ë–î

### –ù–æ–≤—ã–µ –ø–æ–ª—è –º–æ–¥–µ–ª–∏ User:
- `role`: enum (ADMIN, EDITOR, USER) –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∏
- `status`: enum (PENDING, APPROVED, REJECTED, ACTIVE, SUSPENDED)
- `twoFactorEnabled`, `twoFactorSecret`: –¥–ª—è 2FA
- `failedLoginAttempts`, `lockedUntil`: –∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
- `passwordResetToken`, `passwordResetExpires`: –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- `registrationNote`, `rejectionReason`: –º–æ–¥–µ—Ä–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–æ–≤

### –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å LoginLog:
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
- IP –∞–¥—Ä–µ—Å–∞, User Agents
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Ö–æ–¥–æ–≤ (SUCCESS, FAILED, BLOCKED, etc.)

## üö® –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ï—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è:
```bash
# –°–±—Ä–æ—Å–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
npm run db:reset

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∑–∞–Ω–æ–≤–æ
npm run db:migrate
```

### –ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –¥–∞–Ω–Ω—ã—Ö:
```bash
# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –ë–î
npm run db:fresh
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–π:
```bash
npm run db:status
```

### –û—Ç–∫—Ä—ã—Ç—å Prisma Studio –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
```bash
npm run db:studio
```

## üìä –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏

1. **–°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π**: –°–æ–∑–¥–∞—Ç—å RBAC —Å–∏—Å—Ç–µ–º—É
2. **2FA —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**: TOTP —Å Google Authenticator  
3. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π**: –§–æ—Ä–º—ã –∏ –∞–¥–º–∏–Ω—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ middleware**: –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π
5. **–ê–¥–º–∏–Ω—Å–∫–∞—è –ø–∞–Ω–µ–ª—å**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ö–µ–º—ã
npx prisma generate

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ë–î –≤ –±—Ä–∞—É–∑–µ—Ä–µ
npm run db:studio
```

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 15 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
**–ê–≤—Ç–æ—Ä**: –°–∏—Å—Ç–µ–º–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏  
**–í–µ—Ä—Å–∏—è**: 1.0.0